import {Meta} from '@storybook/addon-docs';

<Meta title="Documentation/Migrations/v5 to v6"/>

# Migrate from v5 to v6

WCS v5 contains breaking changes only in the following packages:
- wcs-core
- wcs-angular
- wcs-react

## wcs-core

### wcs-radio

- The property **checked** on `wcs-radio` has been removed.
- The `wcs-radio-group` now totally controls its wcs-radios and reflects the currently selected one with `value`.
- You don't need to set `name` and `mode` on the radio children anymore. 

> ðŸ’¡ Please remember that a `wcs-radio` should always be wrapped within a `wcs-radio-group`.

**Before :**  
```html
<wcs-radio-group value="1" name="choice" mode="radio" aria-label="Default radio group">
    <wcs-radio label="One" name="choice" mode="radio" value="1" checked></wcs-radio>
    <wcs-radio label="Two" name="choice" mode="radio" value="2"></wcs-radio>
    <wcs-radio label="Three" name="choice" mode="radio" value="3"></wcs-radio>
</wcs-radio-group>
```

**After :**  
```html
<wcs-radio-group value="1" name="choice" mode="radio" aria-label="Default radio group">
    <wcs-radio label="One" value="1"></wcs-radio>
    <wcs-radio label="Two" value="2"></wcs-radio>
    <wcs-radio label="Three" value="3"></wcs-radio>
</wcs-radio-group>
```

You can still know which radio is selected in the **group** by relying on the `wcsChange` event or on the `value` property. 

### wcs-grid

**ðŸ’¡ (Only applies if you are doing E2E testing on the grid)**  
> The above changes of the [wcs-radio](#wcs-radio) modifies the semantic structure of the `wcs-grid` with
> `selection-config="single"`. The displayed radios are now native `<input type="radio">` instead of `<wcs-radio>`
> 
> **Before (example with Playwright) :**  
> ```ts
> await page.locator('wcs-grid >> shadow=table tbody tr td wcs-radio');
> ```
> 
> **After (example with Playwright) :**  
> ```ts
> await page.locator('wcs-grid >> shadow=table tbody tr td .grid-radio'); // If you want the full div
> await page.locator('wcs-grid >> shadow=table tbody tr td input[type="radio"]'); // If you want the native input only
> ```



## wcs-angular

### wcs-radio

The `wcs-radio` component has been updated to match the [changes](#wcs-radio) in `wcs-core`.

## wcs-react

### wcs-radio

The `wcs-radio` component has been updated to match the [changes](#wcs-radio) in `wcs-core`.
